<!DOCTYPE html>
<html>
<head>
    <title>Test OAuth URL</title>
</head>
<body>
    <h1>Test Slack OAuth URL Generation</h1>
    <button onclick="testOAuthURL()">Generate OAuth URL</button>
    <div id="result"></div>

    <script>
        function testOAuthURL() {
            const SLACK_CLIENT_ID = "5930579212176.9234329054229";
            const REDIRECT_URI = "https://nhxjashreguofalhaofj.supabase.co/functions/v1/slack-oauth-callback";
            const userId = "test-user-id";
            
            const scopes = [
                'chat:write',
                'channels:read',
                'groups:read',
                'users:read',
                'users:read.email'
            ].join(',');

            const params = new URLSearchParams({
                client_id: SLACK_CLIENT_ID,
                scope: scopes,
                redirect_uri: REDIRECT_URI,
                state: userId,
                response_type: 'code'
            });

            const oauthUrl = `https://slack.com/oauth/v2/authorize?${params.toString()}`;
            
            document.getElementById('result').innerHTML = `
                <p><strong>Generated OAuth URL:</strong></p>
                <p><a href="${oauthUrl}" target="_blank">${oauthUrl}</a></p>
                <p><strong>Click the link above to test the OAuth flow</strong></p>
            `;
        }
    </script>
</body>
</html>